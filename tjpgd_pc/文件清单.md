# TJpgDec Windows PC 移植 - 文件清单

## 核心文件

### 1. tjpgd.c
- TJpgDec 核心解码器实现
- 从原始库文件直接复制
- 包含 JPEG 解码的所有核心功能

### 2. tjpgd.h
- TJpgDec 头文件
- 定义了 API 接口和数据结构
- 适配 Windows 平台（使用 stdint.h）

### 3. tjpgdcnf.h
- TJpgDec 配置文件
- 配置：
  - JD_SZBUF = 512 (输入缓冲区)
  - JD_FORMAT = 0 (RGB888 输出)
  - JD_USE_SCALE = 1 (启用缩放)
  - JD_TBLCLIP = 1 (启用查表优化)
  - JD_FASTDECODE = 2 (最高优化级别)

### 4. main.c
- Windows PC 测试主程序
- 功能：
  - 从文件读取 JPEG 图像
  - 解码为 RGB888 格式
  - 输出为 PPM 文件格式
  - 命令行参数处理

## 编译脚本

### 5. build.bat
- Windows 批处理编译脚本
- 检查 GCC 是否可用
- 执行编译命令
- 显示编译结果

### 6. build.ps1
- PowerShell 编译脚本
- 彩色输出
- 更好的错误处理
- Windows 10/11 推荐使用

### 7. Makefile
- GNU Make 构建文件
- 支持 clean 和 test 目标
- 适合使用 make 工具的用户

## 测试脚本

### 8. test.bat
- Windows 批处理测试脚本
- 检查可执行文件和测试图片
- 运行解码测试
- 自动化测试流程

### 9. test.ps1
- PowerShell 测试脚本
- 彩色输出和更好的用户体验
- Windows 10/11 推荐使用

## 性能测试脚本

### 10. benchmark.bat
- Windows 批处理性能测试脚本
- 运行 10 次迭代
- 基本的性能测试

### 11. benchmark.ps1
- PowerShell 性能测试脚本
- 精确的时间测量（毫秒级）
- 显示平均/最小/最大时间
- 推荐用于性能分析

## 文档

### 12. README.md
- 完整的项目文档
- 包含：
  - 功能介绍
  - 环境要求
  - 编译方法
  - 使用说明
  - 配置选项
  - 故障排除

### 13. QUICKSTART.md
- 快速入门指南
- 分步骤说明
- 故障排除技巧

### 14. 文件清单.md
- 本文件
- 所有文件的说明和用途

## 其他文件

### 15. .gitignore
- Git 忽略配置
- 排除编译产物和临时文件
- 包括：
  - *.exe (可执行文件)
  - *.o (目标文件)
  - *.ppm (输出图像)

## 使用流程

1. **首次使用**
   ```
   build.bat          # 编译程序
   ```

2. **运行测试**
   ```
   test.bat           # 测试解码功能
   ```

3. **性能测试**
   ```
   benchmark.ps1      # 运行性能测试
   ```

4. **日常使用**
   ```
   tjpgd_test.exe input.jpg output.ppm
   ```

## 技术细节

### 内存使用
- 工作区大小：9644 字节 (JD_FASTDECODE=2)
- 帧缓冲区：width × height × 3 字节 (RGB888)

### 性能特性
- 使用快速霍夫曼解码
- 表查找优化
- 32位桶形移位器优化

### 输出格式
- PPM (Portable Pixmap)
- P6 格式（二进制）
- RGB888 (每像素3字节)

## 兼容性

### 编译器
- GCC (MinGW)
- GCC (TDM-GCC) ✓推荐
- Clang (理论上兼容)

### 操作系统
- Windows 7 及以上
- Windows 10 ✓推荐
- Windows 11 ✓推荐

### JPEG 支持
- 基线 JPEG
- 渐进式 JPEG (有限支持)
- 彩色和灰度图像




